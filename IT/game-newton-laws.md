---
layout: page
title: 뉴턴의 운동 법칙과 중력
description: >
  게임 물리 엔진에서 사용되는 뉴턴의 운동 법칙과 중력의 구현에 대해 설명합니다.
sitemap: false
hide_last_modified: true
categories: [game-physics]
tags: [physics, newton-laws, gravity]
---

# 뉴턴의 운동 법칙과 중력

## 뉴턴의 운동 법칙

### 제1법칙 (관성의 법칙)
- 물체에 힘이 작용하지 않으면 등속도 운동을 유지
- 게임에서는 수치적 불안정성을 방지하기 위해 감쇠(Damping) 도입
  - 감쇠값 = 0: 모든 속도 소실
  - 감쇠값 = 1: 모든 속도 유지
  - 권장값: 0.995 (자연스러운 움직임)

### 제2법칙 (가속도 법칙)
- 힘은 물체의 가속도를 변화시킴
- 기본 공식: 

```
F = ma = m⎡ẍ⎤
          ⎢ÿ⎥
          ⎣z̈⎦

ẍ (x 위에 점 두 개): x의 2차 미분, 즉 가속도를 의미
ÿ: y의 가속도
z̈: z의 가속도
따라서 전체 수식은 "힘(F)은 질량(m)과 3차원 공간에서의 가속도 벡터(a)의 곱과 같다"는 의미
```

- 가속도 계산: 

```
⎡ẍ⎤   1 ⎡Fx⎤
⎢ÿ⎥ = - ⎢Fy⎥
⎣z̈⎦   m ⎣Fz⎦
```

## 질량과 역질량

### 질량 처리의 문제점
1. **영질량(Zero Mass) 문제**
   - 질량이 0인 경우 가속도가 무한대가 됨 (F = ma에서 a = F/m)
   - 시뮬레이션에서 절대 발생하면 안 되는 상황
   - 코드에서 0으로 나누기 오류 발생

2. **무한 질량(Infinite Mass) 필요성**
   - 움직일 수 없는 물체 표현 필요 (벽, 바닥 등)
   - 어떤 힘을 가해도 움직이지 않아야 함
   - 대부분의 프로그래밍 언어에서 무한대 표현 불가능

### 역질량(Inverse Mass) 해결책
1. **기본 개념**
   - 질량(m) 대신 역질량(1/m)을 저장
   - F = ma 대신 a = F/m 형태만 사용
   - 계산 최적화 효과

2. **장점**
   - 무한 질량 물체: 역질량 = 0 (쉽게 표현 가능)
   - 영질량 물체: 역질량 = ∞ (프로그래밍적으로 불가능)
   - 수치적 안정성 향상

### 구현
```cpp
class Particle {
    /**
     * 입자의 역질량을 저장
     * - 실시간 시뮬레이션에서 무한 질량(고정 물체)이
     *   영질량(수치적으로 불안정)보다 유용함
     * - protected로 설정하여 직접 수정 방지
     */
    protected:
        real inverseMass;

    public:
        /**
         * 역질량 설정 메서드
         */
        void setInverseMass(real inverseMass);

        /**
         * 질량 설정 메서드
         * - 내부적으로 역질량으로 변환하여 저장
         */
        void setMass(real mass);
};
```

## 운동량과 속도

### 운동량의 개념
- 뉴턴의 제1법칙은 실제로는 속도가 아닌 운동량에 관한 것
- 운동량 = 질량 × 속도
- 질량이 일정하다면, 속도도 일정하다고 가정 가능
- 질량이 변하는 경우, 속도도 변할 수 있음

### 회전 운동에서의 중요성
- 회전하는 물체는 질량 분포가 변할 수 있음
- 이는 회전 속도의 변화를 의미

## 중력의 구현

### 일반 중력 법칙

$$ 
f = G \frac{m_1 m_2}{r^2} 
$$

- \( G \): 중력 상수
- \( m_1, m_2 \): 두 물체의 질량
- \( r \): 두 물체 사이의 거리

### 게임에서의 중력 단순화
- 지구 중력만 고려: 

```
F = mg
```

- 가속도로 직접 적용: 

```
⎡ẍ⎤   ⎡ 0⎤
⎢ÿ⎥ = ⎢-g⎥
⎣z̈⎦   ⎣ 0⎦
```

### 중력 벡터
일반적인 3D 공간에서의 중력 벡터:

```
g = ⎡ 0⎤
    ⎢-g⎥
    ⎣ 0⎦
```

### 게임 중력 값 선택
- 실제 지구: 약 9.81 m/s²
- 게임 장르별 권장값:
  - 슈팅 게임: 약 15 m/s²
  - 레이싱 게임: 약 20 m/s²

### 중력의 중요성
- 중력은 물리 엔진에서 가장 중요한 힘
- 모든 물체 쌍 사이에 작용
- 게임에서는 지구의 중력만 고려하여 단순화

## 구현 시 고려사항

1. **수치 안정성**
   - 적절한 감쇠값 선택
   - 시간 단계 크기 조절

2. **게임 피드백**
   - 장르에 맞는 중력값 선택
   - 사실성과 재미의 균형

3. **최적화**
   - 역질량 사용
   - 불필요한 계산 제거 