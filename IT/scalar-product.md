---
layout: page
title: 스칼라곱 (Scalar Product)
description: >
  벡터의 스칼라곱(내적)과 그 기하학적 의미에 대해 알아봅니다.
sitemap: false
hide_last_modified: true
categories: [game-dev]
tags: [physics, math]
---

## 개요

스칼라곱은 가장 일반적인 벡터 곱셈 연산입니다. 이전의 벡터 연산들과 달리 결과가 벡터가 아닌 단일 스칼라 값입니다. a · b로 표기하며, "내적(dot product)"이라고도 합니다. 수학적으로는 "내부곱(inner product)"이라고도 불립니다.

## 수학적 정의

스칼라곱은 다음 공식으로 계산됩니다:

```
a · b = ⎡ax⎤   ⎡bx⎤
        ⎢ay⎥ · ⎢by⎥ = axbx + ayby + azbz [2.3]
        ⎣az⎦   ⎣bz⎦
```

## C++ 구현

벡터 클래스에서는 * 연산자를 사용하여 스칼라곱을 구현합니다. (점 연산자는 C 기반 언어에서 객체의 데이터 접근을 제어하므로 오버로딩하지 않습니다.)

```cpp
class Vector3 {
public:
    /**
     * 이 벡터와 주어진 벡터의 스칼라곱을 계산하여 반환합니다.
     */
    real scalarProduct(const Vector3 &vector) const {
        return x*vector.x + y*vector.y + z*vector.z;
    }

    /**
     * 스칼라곱 연산자 오버로딩
     */
    real operator *(const Vector3 &vector) const {
        return x*vector.x + y*vector.y + z*vector.z;
    }
};
```

주의: 결과가 스칼라 값이므로 in-place 버전의 연산자는 구현하지 않습니다. (벡터가 스칼라로 변환될 수 없기 때문)

## 삼각함수와의 관계

스칼라곱의 중요한 특징은 두 벡터의 길이와 그 사이 각도와의 관계입니다:

```
a · b = |a||b| cos θ [2.4]

여기서 θ는 두 벡터 사이의 각도
```

### 각도 계산

1. **정규화된 벡터의 경우**:
   ```
   θ = cos⁻¹(â · b̂)
   ```

2. **일반 벡터의 경우**:
   ```
   θ = cos⁻¹((a · b)/(|a||b|))
   ```

## 기하학적 의미

![scalar-product](/assets/img/blog/gamedev/scalar-product.png)

_스칼라곱의 기하학적 해석_

스칼라곱은 물리 프로그래밍에서 자주 사용되며, 주로 한 벡터의 다른 벡터 방향으로의 크기를 계산하는 데 사용됩니다.

예시:
- 단위 벡터 â와 벡터 b가 있을 때:
  - b가 â에 거의 수직이면 스칼라곱은 작은 값
  - b가 â와 반대 방향이면 스칼라곱은 음수
  - b가 â와 같은 방향이면 스칼라곱은 양수

수치 예시:
```
|â| ≡ 1
|b| = 2.0
|c| = 1.5
â · b = 0.3    (거의 수직)
â · c = -1.2   (거의 반대 방향)
```

## 활용

1. **방향성 검사**
   - 두 벡터가 같은 방향인지 확인
   - 두 벡터가 수직인지 확인

2. **투영 계산**
   - 한 벡터를 다른 벡터 방향으로 투영

3. **각도 계산**
   - 두 벡터 사이의 각도 계산

## 주의사항

1. **정규화**
   - 적어도 하나의 벡터는 정규화하는 것이 일반적
   - 두 벡터 모두 정규화하면 계산이 단순화됨

2. **수치 안정성**
   - cos⁻¹ 사용 시 수치 오차 주의
   - 매우 작은 각도에서 정밀도 문제 발생 가능

3. **최적화**
   - 자주 사용되는 연산이므로 효율적 구현 중요
   - 캐싱 고려 